<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Tabella JSON</title>
</head>
<body>

<p id="message"></p>
<input type="button" value="Premi" onclick="leggi()">

<table border="1" id="tabella">
    <thead>
        <tr>
            <th>ID</th>
            <th>NOME</th>
            <th>MARCA</th>
            <th>PREZZO</th>
            <th>DISPONIBILE</th>
        </tr>
    </thead>
    <tbody></tbody>
</table>

<script>
function leggi() {
    const req = new XMLHttpRequest();
    req.open("GET", "recupero.json", true);
    req.send();

    req.onload = function () {
        const dati = JSON.parse(req.responseText);
        document.getElementById("message").textContent = "Dati caricati";

        riempiTabella(dati);
    };
}

function riempiTabella(vettoreDati) {
    const tbody = document.querySelector("#tabella tbody");
    tbody.innerHTML = ""; // pulisce la tabella

    vettoreDati.forEach(oggetto => {
        const tr = document.createElement("tr");

        tr.innerHTML = `
            <td>${oggetto.id}</td>
            <td>${oggetto.nome}</td>
            <td>${oggetto.marca}</td>
            <td>${oggetto.prezzo}</td>
            <td>${oggetto.disponibile}</td>
        `;

        tbody.appendChild(tr);
    });
}
</script>

</body>
</html>
